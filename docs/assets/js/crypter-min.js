const btnEncrypt=document.querySelector(".cta-ctaButton--blue"),btnDecrypt=document.querySelector(".cta__ctaButton--grey"),btnCopy=document.querySelector(".cta-ctaButton-desative"),text=document.querySelector("textarea"),divResult=document.querySelector(".result"),textarea=document.querySelector("textarea"),para=document.querySelector(".result__paragraph"),error=document.querySelector(".cta_ctaInfowrapper");regexUppercase=RegExp(/[A-Z]/g),regexAccents=RegExp(/[áéíóúñ]/gi);let textResult,str;const KEYS_ENCRYPT={e:"enter",i:"imes",a:"ai",o:"ober",u:"ufat"},KEYS_REVERSEENCRYPT={enter:"e",imes:"i",ai:"a",ober:"o",ufat:"u"},isUpperCaseOrIsAccent=e=>e.match(regexAccents)||e.match(regexUppercase),toEncrypt=e=>{let t=RegExp(/[eiou]/gi);return e.replace(t,e=>KEYS_ENCRYPT[e])},toReverseEncrypt=e=>{let t=RegExp(/enter|imes|ai|ober|ufat/gi);return e.replace(t,e=>KEYS_REVERSEENCRYPT[e])};function animate(){let e=setTimeout(animate,145);str.length>0?para.innerHTML+=str.shift():clearTimeout(e)}const handleClick=(e="encrypt")=>{let t=textarea.value;null!==isUpperCaseOrIsAccent(t)||0===t.length?error.classList.add("active"):(error.classList.remove("active"),textResult="decrypt"===e?toReverseEncrypt(t):toEncrypt(t),para.innerHTML="",str=textResult.split(""),divResult.classList.add("active"),animate())},handleCopy=()=>{navigator.clipboard.writeText(textResult),btnCopy.classList.add("copy"),setTimeout(()=>btnCopy.classList.remove("copy"),2e3)},isEmpty=e=>{let t=e.target.value;0===t.length&&(divResult.classList.remove("active"),para.innerHTML="")};textarea.addEventListener("input",isEmpty),btnEncrypt.addEventListener("click",handleClick),btnDecrypt.addEventListener("click",()=>handleClick("decrypt")),btnCopy.addEventListener("click",handleCopy);